plugins {
    id 'java'
    id 'checkstyle'
    id 'jacoco'
}

repositories {
    jcenter()
}

dependencies {
  testCompile 'junit:junit:4.12'
}

jar {
    manifest {
        attributes 'Implementation-Title': 'chatbot',
          'Main-Class': 'com.github.ChatBot',
         	'Implementation-Version': 1.0
       }
    archiveName 'chatbot.jar'
}

jacocoTestCoverageVerification {
  violationRules {
    rule {
      limit {
        counter = 'INSTRUCTION'
        value = 'COVEREDRATIO'
        minimum = 0.7
      }
    }
  }
}

checkstyle {
    toolVersion = "8.14"
}

check.dependsOn jacocoTestCoverageVerification